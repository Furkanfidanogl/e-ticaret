<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <!-- Font-Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css"
        integrity="sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <title>Shopping Cart</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .shopping-cart-list {
            position: absolute;
            width: 25rem;
            right: -0.75rem;
            top: 2.9rem;
            padding: 1rem;
            z-index: 1;
        }

        .shopping-cart-list .list-item {
            margin-top: 1rem;
        }
    </style>
</head>

<body>

    <!-- header -->
    <header class="container">
        <nav class="navbar navbar-expand navbar-dark bg-primary">
            <div class="container">
                <a href="" class="navbar-brand">Logo</a>
                <div class="collapse navbar-collapse">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a href="#" class="nav-link active">Home</a>
                        </li>
                    </ul>
                </div>
                <div class="shopping-cart position-relative">

                    <!-- SEPET -->
                    <button type="button" class="btn-cart btn btn-primary position-relative">
                        <i class="fas fa-shopping-cart"></i>
                        <span id="item-count"
                            class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger mt-2">0</span>
                    </button>

                    <!-- SEPETTEKİLER -->
                    <div class="shopping-cart-list bg-primary d-none">
                        <b class="fs-5 text-white my-3">Shopping Cart</b>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- section -->
    <section class="products mt-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-md-6 mb-3">
                    <div class="card">
                        <img src="https://lh3.googleusercontent.com/u/0/d/1ljsf3lEzaIoAFDBo-Iq3OPIlcOrb6OHf=w250-h238-p-k-nu-iv1"
                            alt="product" class="card-img-top img-fluid">
                        <div class="card-body">
                            <h5 class="card-title">Kulaklık</h5>
                            <p class="cart-text">
                                Some quick example text to build on the card title and make up the bulk of the card's
                                content.
                            </p>
                            <div class="d-flex justify-content-between">
                                <a class="btn btn-info text-white" href="#">Add to Cart</a>
                                <span class="price badge rounded-pill bg-warning text-dark d-flex align-items-center">$
                                    10</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 mb-3">
                    <div class="card">
                        <img src="https://lh3.googleusercontent.com/u/0/d/1OQ8Dt1gdFU1Xtc7JtoDfDjQJDbTauesa=w250-h238-p-k-nu-iv1"
                            alt="product" class="card-img-top img-fluid">
                        <div class="card-body">
                            <h5 class="card-title">Ayakkabı</h5>
                            <p class="cart-text">
                                Some quick example text to build on the card title and make up the bulk of the card's
                                content.
                            </p>
                            <div class="d-flex justify-content-between">
                                <a class="btn btn-info text-white" href="#">Add to Cart</a>
                                <span class="price badge rounded-pill bg-warning text-dark d-flex align-items-center">$
                                    35</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 mb-3">
                    <div class="card">
                        <img src="https://lh3.googleusercontent.com/u/0/d/1ZoiG1itwin_VHPUCwda2N1Mt14M9Ihe2=w250-h238-p-k-nu-iv1"
                            alt="product" class="card-img-top img-fluid">
                        <div class="card-body">
                            <h5 class="card-title">Topuklu</h5>
                            <p class="cart-text">
                                Some quick example text to build on the card title and make up the bulk of the card's
                                content.
                            </p>
                            <div class="d-flex justify-content-between">
                                <a class="btn btn-info text-white" href="#">Add to Cart</a>
                                <span class="price badge rounded-pill bg-warning text-dark d-flex align-items-center">$
                                    45</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 mb-3">
                    <div class="card">
                        <img src="https://lh3.googleusercontent.com/u/0/d/11OPmDroPzFqIdHznegINxFhWtamLPiI6=w250-h238-p-k-nu-iv1"
                            alt="product" class="card-img-top img-fluid">
                        <div class="card-body">
                            <h5 class="card-title">Araba</h5>
                            <p class="cart-text">
                                Some quick example text to build on the card title and make up the bulk of the card's
                                content.
                            </p>
                            <div class="d-flex justify-content-between">
                                <a class="btn btn-info text-white" href="#">Add to Cart</a>
                                <span class="price badge rounded-pill bg-warning text-dark d-flex align-items-center">$
                                    11</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        let sepet = document.querySelector(".btn-cart")
        let sepettekiler = document.querySelector(".shopping-cart-list")
        let addBtn = document.querySelectorAll(".btn")
        let card = document.querySelectorAll(".card")
        let count = document.getElementById("item-count")


        class PRODUCT {
            constructor(image, title, price) {
                this.image = image
                this.title = title
                this.price = price
            }
        }

        class UI {
            static getData(product) {
                sepettekiler.innerHTML += `<div class="row align-items-center text-white-50">
            <div class="col-md-3">
                <img src="${product.image}" alt="product" class="img-fluid">
            </div>
            <div class="col-md-5">
                <div class="title">${product.title}</div>
            </div>
            <div class="col-md-2">
                <div class="price">${product.price}</div>
            </div>
            <div class="col-md-2">
                <button class="btn btn-delete">
                    <i class="fas fa-trash-alt text-danger"></i>
                </button>
            </div>
        </div>`
            }
            static removeCart(count) {
                let btnRemove = document.querySelectorAll(".btn-delete");
                for (let i = 0; i < btnRemove.length; i++) {
                    btnRemove[i].addEventListener("click", function () {
                        btnRemove[i].parentElement.parentElement.remove()
                        count.textContent--;
                    })
                }
            }
        }


        sepet.addEventListener("click", function (a) {
            a.preventDefault()
            sepettekiler.classList.toggle("d-none")
        })

        for (let i = 1; i < addBtn.length; i++) {
            addBtn[i].addEventListener("click", function (a) {
                a.preventDefault()

                let image = card[i - 1].getElementsByClassName("card-img-top")[0].src;
                let title = card[i - 1].getElementsByClassName("card-title")[0].textContent;
                let price = card[i - 1].getElementsByClassName("price")[0].textContent;

                let product = new PRODUCT(image, title, price)
                UI.getData(product)
                UI.removeCart(count)

                count.textContent++;
            })
            
        }

    </script>
</body>

</html>